You are continuing work on an existing project called Skills2Crypto.
This project already has:
- Express backend
- Socket.IO initialized
- Matchmaking logic (random + challenge)
- Match engine
- Frontend lobby and play screens

DO NOT redesign UI.
DO NOT add escrow or blockchain logic.
DO NOT add wallet or on-chain code.
DO NOT remove existing APIs.
DO NOT introduce demo / fake win buttons.

Your task is to FIX a core architectural issue.

========================================
PROBLEM
========================================

Currently:
- Players can connect via Socket.IO
- Matchmaking (random and challenge) creates or finds a match
- BUT matches NEVER transition from "waiting" to "active"
- Both Random Matchmaking and Challenge Links get stuck waiting forever

This is NOT a UI problem.
This is NOT a wallet problem.
This is NOT a blockchain problem.

Root cause:
There is NO guaranteed synchronization point between:
- matchmaking result (matchId exists)
- socket.io rooms
- match initialization

Specifically:
- initializeMatch(matchId) is NOT reliably called
- sockets are NOT reliably joined into a room identified by matchId
- no authoritative "match started" socket event is emitted

========================================
GOAL
========================================

When TWO players belong to the SAME matchId
(whether via random matchmaking OR challenge link):

1. Both sockets MUST join the same Socket.IO room named exactly by matchId
2. When the second player joins:
   - initializeMatch(matchId) MUST be called exactly once
   - the match status MUST become "active"
   - both players MUST receive a socket event that the match is ready
3. Frontend MUST leave "Waiting for opponent" state automatically

========================================
STRICT RULES
========================================

- Do NOT change UI layout or screens
- Do NOT change matchmaking rules
- Do NOT add blockchain / escrow / wallet code
- Do NOT refactor unrelated code
- Prefer ADDING a small, clear synchronization mechanism
- Server must remain the single source of truth

========================================
WHAT TO IMPLEMENT
========================================

1. Inspect existing files:
   - server/services/matchmaking.ts
   - server/services/matchEngine.ts
   - server/services/socketio.ts
   - frontend Lobby / Play flow

2. Introduce a CLEAR server-side synchronization step:

   When a matchId is confirmed AND both players are present:
   - join both sockets into a room named matchId
   - call initializeMatch(matchId) once
   - emit a socket event to the room, e.g.:
     "match_ready" or "match_started"

3. This MUST work for:
   - Random matchmaking
   - Challenge / invite links

4. Ensure:
   - initializeMatch is never called twice for the same match
   - match state transitions from "waiting" → "active"
   - socket event is broadcast to both players

========================================
FRONTEND REQUIREMENTS
========================================

- Frontend should already be waiting for a server signal
- Ensure frontend listens for the server match-start event
- On receiving it, frontend should proceed into the game
- No UI redesign, only unblock the flow

========================================
SUCCESS CRITERIA
========================================

- Two browsers (or devices) can:
  - join random matchmaking → match starts
  - open the same challenge link → match starts
- Spinner disappears
- Game screen becomes active
- Server is authoritative
- No wallet / escrow involved yet

========================================
IMPORTANT
========================================

Before writing code:
- Briefly summarize (in comments) what synchronization mechanism you are adding and why

Then implement carefully.
This is a surgical architectural fix, not a rewrite.